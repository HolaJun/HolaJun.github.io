## 프로세스란?

- 현재 실행중인 프로그램(=보조기억장치에 있는 명령어와 데이터의 집합)

- 하드웨어에 저장된 프로그램이 메모리(RAM)으로 적재된 후 CPU의 할당을 받으면 프로그램이 실행, 이를 프로

  세스라고 칭함.

- 멀티태스킹 환경에서 메모리에 프로그램이 여러개 적재되고 이때 CPU가 할당된 프로그램만 프로세스라고 부

  르지 않고, 대기중인 프로그램 또한 프로세스라고 부른다.

- 프로세스는 자원을 필요로 하고, 자원을 관리하는 것은 OS이다.

- 운영체제가 CPU를 할당하는 대상으로도 표현할 수 있음.

  - 프로세스에서 다른 프로세스로 CPU가 할당되는 것은 OS가 할 일.
  - 프로세스 하나가 실행되며 명령어를 처리하며 CPU가 할당되는 것은 사용자가 하는 일.

- 운영체제가 처리하는 시스템 내부에서의 작업 단위(=일의 단위)

- PCB에 존재하는 개체



## PCB(Process Control Block)

- 프로세스 관리에 필요한 정보를 저장하기 위한 자료구조
- 프로세스가 생성되면 PCB를 추가 등록하고 프로세스가 종료되면 PCB에 저장된 정보 삭제
- 프로세스 상태가 변경되면 PCB에 저장된 정보 변경
- 리눅스의 경우 PCB는 구조체로 선언되어 있고, 내용은 수십가지 존재함
  - 프로세스 식별자
  - 프로세스 상태
  - 프로세스 스케줄링을 위한 우선순위
  - 프로세스가 적재된 메모리 주소공간
  - CPU 레지스터 값
  - 부모프로세스 식별자
  - 자식프로세서 식별자
  - CPU 사용기간
  - 사용 가능한 파일
  - 할당된 자원에 대한 포인터



## 프로세스 상태

1. 준비상태(Ready)
   - 프로세스 생성 후 CPU가 할당되기 전 상태
2. 실행상태
   - CPU가 할당된 상태. 실행중인 프로그램을 의미.
   - 프로세스가 정상적으로 실행을 완료하면 프로세스는 종료됨.
   - CPU 할당 시간 초과가 된 경우
     - 하나의 프로세스가 오랜 시간동안 CPU를 사용하지 못하도록 막고있어 일정 시간동안만 CPU를 사용할 수 있도록 제한한다. CPU 할당시간이 초과된 경우 준비(READY)상태로 돌아간다.
   - 자신이 요청한 사건이 완료됐을 경우
     - 어떠한 사건을 요청하면 CPU는 다른 메모리의 주소에 할당되게 되고 사건을 요청한 프로세스는 대기상태로 들어가게됨
     - 요청한 작업이 끝나면 다시 준비상태로 돌아가고 CPU할당을 기다리게 됨.
     - 프로세스의 상태가 PCB에 입력됨
3. 대기상태(Wait)
   - 프로세스가 CPU를 할당받아 실행되다가 어떤 사건이 발생할때까지 멈추어있는 상태
   - 대기상태에 있던 프로세스가 기다리던 어떤 사건의 발생으로 인해 나머지부분의 실행을 위해 준비(Ready)상태로 전이되는 과정



## 프로세스 메모리 구조

1. Code(Text) 영역

   - 코드 자체를 구성하는 메모리 영역. Hex, Bin파일 메모리
   - 프로그램 명령이 위치하는 곳으로, 기계어로 제어되는 메모리 영역

2. Data 영역

   - 전역변수, 정적변수, 배열, 구조체 등이 저장
   - 프로그램이 실행될 때 생성되고 종료되면 시스템에 반환됨
   - 함수 내부에 선언된 Static 변수는 실행될 때 공간만 할당되고, 그 함수가 실행될 때 초기화된다.

3. Stack 영역

   - 프로그램이 동작하는데 발생하는 데이터를 임시저장하기 위해 스택 사용

   - 스택에 저장되는 데이터는 루틴들을 처리하며 되돌아갈 주소를 저장함

     선입후출(LIFO) 방식.

4. Heap 영역

   - 프로그램이 자동으로 사용하는 임시 메모리 영역
   - 지역변수, 매개변수, 리턴값 등 잠시 사용되었다가 사라지는 데이터를 저장하는 영역
   - 함수 호출시 생성되고, 함수가 끝나면 시스템에 반환

